====================== README.md ======================

# üì° NEF Northbound Event Monitoring API

## üìå Description
This project implements the **3GPP Event Monitoring service of the NEF (Network Exposure Function) Northbound interface**.

It allows external applications (**SCS / AS**) to subscribe to **network monitoring events** and receive **asynchronous notifications** when those events occur, following the **3GPP event-driven model**.

The API is built with **FastAPI** and uses **MongoDB** for persistence.

---

## üì° NEF Northbound Monitoring Event ‚Äì Concept Overview

The **Monitoring Event service** is part of the **3GPP NEF Northbound interface**, which exposes selected network capabilities to external applications in a secure and controlled way.

Instead of continuously querying the network, applications register **event subscriptions** that describe:
- the type of network event to monitor
- the notification destination (callback URL)
- the monitoring scope

Once the subscription is created, the NEF monitors the network conditions and **pushes notifications** to the application whenever the monitored event occurs.

### üîç Examples of Monitoring Events
- Location reporting
- Loss of connectivity
- Roaming status changes
- Reachability status
- Other network state changes

### üîÑ Subscription & Notification Workflow
1. An application (SCS/AS) sends a **subscription request** to the NEF Northbound API.
2. The NEF validates and stores the subscription.
3. The network continuously monitors the requested event.
4. When the event occurs, the NEF sends a **notification callback** to the specified destination.
5. The application processes the received notification.

This event-driven model provides:
- real-time event delivery
- reduced signaling overhead
- efficient network exposure
- secure access to network information

---

## ‚öôÔ∏è Installation & Setup

Before running the application, install the required dependencies:

pip install -r requirements.txt

---

## ‚ñ∂Ô∏è Run the Application

### Run the server side (API)
uvicorn main:app --reload

API available at:
http://localhost:8001

---

### Run the client side
python client.py

---

## üß™ API Testing

### Create a subscription
POST http://localhost:8001/3gpp-monitoring-event/v1/12345/subscriptions

{
    "notificationDestination": "test_destination",
    "monitoringType": "LOCATION_REPORTING"
}

---

### Fetch all subscriptions
GET http://localhost:8001/3gpp-monitoring-event/v1/12345/subscriptions

---

### Fetch an individual subscription
GET http://localhost:8001/3gpp-monitoring-event/v1/12345/subscriptions/1

---

### Update an individual subscription
PUT http://localhost:8001/3gpp-monitoring-event/v1/12345/subscriptions/1

{
    "notificationDestination": "test_destination",
    "monitoringType": "LOSS_OF_CONNECTIVITY"
}

---

### Delete an individual subscription
DELETE http://localhost:8001/3gpp-monitoring-event/v1/12345/subscriptions/1

---

### Send a monitoring notification
POST http://localhost:8000/3gpp-monitoring-event/v1/test

{
    "subscription": "example_subscription",
    "configResults": [
        {
            "externalIds": [""],
            "msisdns": [""],
            "resultReason": "ROAMING_NOT_ALLOWED"
        }
    ],
    "monitoringEventReports": [
        {
            "monitoringType": "LOSS_OF_CONNECTIVITY"
        }
    ],
    "addedExternalIds": [""],
    "addedMsisdns": [""],
    "cancelExternalIds": [""],
    "cancelMsisdns": [""],
    "cancelInd": true
}

---

## üõ†Ô∏è Technologies Used
- Python 3.9+
- FastAPI
- MongoDB
- PyMongo
- Pydantic
- JWT Authentication
- Uvicorn

